# Sessions API Documentation

paths:
  /api/sessions:
    get:
      tags:
        - Sessions
      summary: List active sessions
      description: Get all active sessions for the current user
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Sessions list
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  sessions:
                    type: array
                    items:
                      $ref: '#/components/schemas/Session'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/sessions/{id}:
    delete:
      tags:
        - Sessions
      summary: Revoke session
      description: Revoke a specific session (logout from device)
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Session revoked
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
        '404':
          $ref: '#/components/responses/NotFoundError'

  /api/sessions/revoke-all:
    post:
      tags:
        - Sessions
      summary: Revoke all sessions
      description: Revoke all sessions except current (logout from all devices)
      security:
        - bearerAuth: []
      responses:
        '200':
          description: All sessions revoked
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  revoked_count:
                    type: integer
        '401':
          $ref: '#/components/responses/UnauthorizedError'

components:
  schemas:
    Session:
      type: object
      properties:
        id:
          type: integer
        user_id:
          type: integer
        ip_address:
          type: string
        user_agent:
          type: string
        device:
          type: string
          description: Parsed device name
        browser:
          type: string
          description: Parsed browser name
        location:
          type: string
          description: Approximate location from IP
        is_current:
          type: boolean
          description: Whether this is the current session
        last_active_at:
          type: string
          format: date-time
        created_at:
          type: string
          format: date-time
